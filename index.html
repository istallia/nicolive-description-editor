<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="./spectre.min.css"> <!-- Spectre: https://picturepan2.github.io/spectre/index.html -->
	<link rel="stylesheet" type="text/css" href="./main.css">
	<script type="text/javascript" src="./main.js"></script>
	<title>ニコ生説明文エディタ</title>
</head>
<body>

<!-- タイトルバー -->
<div class="container">
	<div class="columns">
		<div class="column col-12">
			<h1>ニコ生説明文エディタ</h1>
			<a href="javascript:void(0);" id="open-description-modal">ちょっとした説明</a>
			<hr>
		</div>
	</div>
</div>

<!-- コントロールエリア -->
<div class="container">
	<div class="columns">
		<div class="column col-6">
			<div class="html-group">
				<div class="btn-group">
					<button id="export-html" class="btn">HTMLに変換</button>
					<button id="import-html" class="btn">HTMLを読み込み</button>
				</div>
				<label for="switch-dark-theme" class="form-switch d-inline-block">
					<input type="checkbox" id="switch-dark-theme">
					<i class="form-icon"></i> niconico-darkmode
				</label>
			</div>
			<div class="btn-group">
				<button id="set-bold" class="btn">太字</button>
				<button id="set-italic" class="btn">斜体</button>
				<button id="set-underline" class="btn">下線</button>
				<button id="set-strikethrough" class="btn">打消線</button>
				<button id="reset-style" class="btn btn-secondary">スタイルを削除</button>
			</div>
		</div>
		<div class="column col-6">
			<div class="input-group html-group">
				<input type="color" id="font-color" class="form-input">
				<select id="font-size" class="form-select">
					<option value="1">サイズ 1 (最小)</option>
					<option value="2">サイズ 2</option>
					<option value="3" selected="true">サイズ 3 (標準)</option>
					<option value="4">サイズ 4</option>
					<option value="5">サイズ 5</option>
					<option value="6">サイズ 6</option>
					<option value="7">サイズ 7 (最大)</option>
				</select>
				<button id="set-font-color" class="btn input-group-btn">色を指定</button>
				<button id="set-font-size"  class="btn input-group-btn">サイズを指定</button>
				<button id="set-font-style" class="btn input-group-btn">色とサイズを両方指定</button>
			</div>
			<div class="form-group" id="color-history"></div>
	</div>
	<div class="columns">
		<div class="column col-12"><hr></div>
	</div>
</div>

<!-- テキストエリア -->
<div class="container">
	<div class="columns">
		<div class="column col-6">
			<span class="caption">HTMLエディタ</span>
			<div id="description-wysiwyg" spellcheck="false" contenteditable="true">
				<div>ここに説明文を入力します。</div>
			</div>
		</div>
		<div class="column col-6">
			<span class="caption">テキストエリア (<span id="char-count">13</span>文字)</span>
			<textarea id="description-html" cols="30" rows="10" spellcheck="false">ここに説明文を入力します。</textarea>
		</div>
	</div>
</div>

<!-- モーダル: ちょっとした説明 -->
<div id="modal-description" class="modal modal-lg">
	<a href="#close" class="modal-overlay" aria-label="Close"></a>
	<div class="modal-container">
		<div class="modal-header">
			<a href="#close" class="btn btn-clear float-right" aria-label="Close"></a>
			<div class="modal-title h5">ちょっとした説明</div>
		</div>
		<div class="modal-body">
			<div class="content">
				<h4>概要</h4>
				<p>
					ニコ生の説明文に用いるHTMLテキストを直感的に作れるツールです。タイトルにニコ生と入っていますが、コミュの説明文にも使えます。<br>
					Webページなのでインストール不要で使えます。<br>
					NETE(Niconico Easy Text Editor)というものがあったようなのですが、レンタルサーバーがサービス終了してしまったらしく、他サーバーで復活という話も見なかったので作ってみました。
				</p>
				<h4>使い方</h4>
				<p>
					左の欄に説明文を入力し、必要に応じて装飾します。<br>
					説明文が出来上がったら左上の「HTMLに変換」ボタンを押して変換します。<br>
					変換結果は右の欄に出力されますので、それをコピーして持って行ってください。
				</p>
				<p>
					既にあるHTMLテキストをベースに編集したい場合は、右の欄にそのテキストを入力し、左上の「HTMLを読み込み」ボタンを押して逆変換します。
				</p>
				<p>
					※ 編集中にCtrl+Sを押すことでも変換/読み込みを行うことができます。
				</p>
				<h4>niconico-darkmodeとは</h4>
				<p>
					猫月あゆむ(<a href="https://twitter.com/nekozuki_2525" target="_blank">@nekozuki_2525</a>)氏が公開しているChrome拡張機能/Firefoxアドオンで、ニコニコのサイトをダークモード化することができます。<br>
					ニコニコ大百科: <a href="https://dic.nicovideo.jp/a/niconico%20darkmode" target="_blank">dic.nicovideo.jp/a/niconico darkmode</a>
				</p>
				<p>
					ただ、ダークモード化していると動画やニコ生、コミュの説明文に色指定の装飾が含まれる場合、非常に見づらくなることがあります。<br>
					ダークモードは非公式な機能であり、対応しなければならないというものでは全くありませんが、手軽に確認できれば対応しやすいと思い、確認機能をつけています。
				</p>
				<h4>NETEにはあったが本ツールにはない機能</h4>
				<p>
					使ったことがないのでスクショを見た感じで拾ってます。
				</p>
				<ul>
					<li><span class="text-bold">戻る</span> - どこまで戻すかをどう決定するか迷ったので保留しました</li>
					<li><span class="text-bold">色登録</span> - 代わりに使った色の履歴を残すようにしてみました</li>
					<li><span class="text-bold">自動変換</span> - 特に自動である必要はないかなと思って保留しました</li>
				</ul>
				<h4>リンク</h4>
				<ul>
					<li><a href="https://textblog.minibird.jp/twitter/" target="_blank">作者のプロフィールページ</a></li>
					<li><a href="https://github.com/istallia/nicolive-description-editor">istallia/nicolive-description-editor</a> (GitHub)</li>
					<li><a href="https://picturepan2.github.io/spectre/" target="_blank">Spectre.css</a></li>
				</ul>
			</div>
		</div>
		<div class="modal-footer"></div>
	</div>
</div>

<!-- モーダル: 変換の確認 -->
<div id="modal-confirm-export" class="modal modal-sm">
	<a href="#close" class="modal-overlay" aria-label="Close"></a>
	<div class="modal-container">
		<div class="modal-header">
			<a href="#close" class="btn btn-clear float-right" aria-label="Close"></a>
			<div class="modal-title h5">注意</div>
		</div>
		<div class="modal-body">
			<div class="content">
				<p>
					テキストエリアの内容は変更されています。<br>
					このまま変換すると、現在のテキストエリアの内容は失われます。<br>
					このまま変換を続行しますか？
				</p>
			</div>
		</div>
		<div class="modal-footer">
			<button id="continue-export-html" class="btn btn-primary">変換する</button>
			<a href="#close" class="btn btn-link" aria-label="Close">やめる</a>
		</div>
	</div>
</div>
<div id="modal-confirm-import" class="modal modal-sm">
	<a href="#close" class="modal-overlay" aria-label="Close"></a>
	<div class="modal-container">
		<div class="modal-header">
			<a href="#close" class="btn btn-clear float-right" aria-label="Close"></a>
			<div class="modal-title h5">注意</div>
		</div>
		<div class="modal-body">
			<div class="content">
				<p>
					HTMLエディタの内容は変更されています。<br>
					このまま読み込むすると、現在のHTMLエディタの内容は失われます。<br>
					このまま読み込みを続行しますか？
				</p>
			</div>
		</div>
		<div class="modal-footer">
			<button id="continue-import-html" class="btn btn-primary">読み込む</button>
			<a href="#close" class="btn btn-link" aria-label="Close">やめる</a>
		</div>
	</div>
</div>

</body>
</html>